<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Browsing Buddy</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; width: 260px; padding: 12px; }
    #avatar { width: 150px; height: 150px; margin: 8px auto; }
    #health { font-size: 1.2em; margin-bottom: 12px; }
    button { margin: 6px 4px; padding: 6px 14px; }
    textarea { width: 100%; height: 50px; margin-top: 4px; }
    .hidden { display: none; }
    fieldset { margin-bottom: 12px; padding: 8px; }
    legend { font-weight: bold; }
  </style>
</head>
<body>
  <h1>Browsing Buddy</h1>

  <!-- Inline SVG Avatar with three states -->
  <svg id="avatar" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
    <!-- Body & head -->
    <circle cx="60" cy="60" r="58" fill="#fff" stroke="#333" stroke-width="3"/>
    <!-- Ears -->
    <circle cx="30" cy="30" r="15" fill="#333"/>
    <circle cx="90" cy="30" r="15" fill="#333"/>
    <!-- Eye patches -->
    <ellipse cx="45" cy="60" rx="10" ry="14" fill="#333"/>
    <ellipse cx="75" cy="60" rx="10" ry="14" fill="#333"/>

    <!-- Neutral State -->
    <g id="state-neutral">
      <circle cx="45" cy="60" r="4" fill="#fff"/>
      <circle cx="75" cy="60" r="4" fill="#fff"/>
      <path d="M50,80 Q60,85 70,80" stroke="#333" stroke-width="3" fill="none" stroke-linecap="round"/>
    </g>

    <!-- Happy State -->
    <g id="state-happy" style="display:none">
      <path d="M40,60 Q45,55 50,60" stroke="#fff" stroke-width="3" fill="none" stroke-linecap="round"/>
      <path d="M70,60 Q75,55 80,60" stroke="#fff" stroke-width="3" fill="none" stroke-linecap="round"/>
      <path d="M45,78 Q60,95 75,78" stroke="#333" stroke-width="3" fill="none" stroke-linecap="round"/>
    </g>

    <!-- Sad State -->
    <g id="state-sad" style="display:none">
      <path d="M40,62 Q45,68 50,62" stroke="#fff" stroke-width="3" fill="none" stroke-linecap="round"/>
      <path d="M70,62 Q75,68 80,62" stroke="#fff" stroke-width="3" fill="none" stroke-linecap="round"/>
      <path d="M45,88 Q60,70 75,88" stroke="#333" stroke-width="3" fill="none" stroke-linecap="round"/>
    </g>
  </svg>

  <div id="health">Health: --</div>
  <button id="editBtn">Edit Site Lists</button>

  <div id="editArea" class="hidden">
    <fieldset>
      <legend>Positive Sites</legend>
      <textarea id="foodInput" placeholder="e.g. wikipedia.org, dev.to"></textarea>
    </fieldset>
    <fieldset>
      <legend>Distractor Sites</legend>
      <textarea id="poisonInput" placeholder="e.g. facebook.com, youtube.com"></textarea>
    </fieldset>
    <button id="saveBtn">Save</button>
    <button id="cancelBtn">Cancel</button>
  </div>

  <script src="popup.js"></script>
</body>
</html>